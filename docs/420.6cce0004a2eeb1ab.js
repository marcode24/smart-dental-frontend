"use strict";(self.webpackChunkfront_end=self.webpackChunkfront_end||[]).push([[420],{9944:(b,d,i)=>{i.d(d,{H:()=>s});var t=i(1223),m=i(2340),o=i(520),p=i(9857);const a=m.N.base_url;let s=(()=>{class c{constructor(l,_){this.http=l,this.authService=_,this.appointmentSelected=new t.vpe}get token(){return sessionStorage.getItem("token")||""}get headers(){return{headers:{Authorization:`Bearer ${this.token}`}}}getAppointmentsByUser(l,_,u){let A,g=`${a}/appointments/user/${this.authService.userActive.id_user}?status=${l}`;if(_){let{limit:n,offset:r,fullname:e}=_;A=e,g=`${g}&limit=${n}&offset=${r}`}return A&&(A=A.toString().trim(),g=`${g}&fullname=${A}`),u&&(g=`${g}&date=${u}`),console.log({url:g}),this.http.get(g,this.headers)}getAppointmentsByPatient(l){return this.http.get(`${a}/appointments/patient/${l}`,this.headers)}changeStatus(l){const{id_appointment:_,status:u}=l;return this.http.patch(`${a}/appointments/${_}`,{status:u},this.headers)}changeAppointmentSelected(l){this.appointmentSelected.emit(l)}create(l){const _=Object.assign(Object.assign({},l),{id_user:this.authService.userActive.id_user});return this.http.post(`${a}/appointments`,_,this.headers)}}return c.\u0275fac=function(l){return new(l||c)(t.LFG(o.eN),t.LFG(p.e))},c.\u0275prov=t.Yz7({token:c,factory:c.\u0275fac,providedIn:"root"}),c})()},3599:(b,d,i)=>{i.d(d,{_:()=>o});var t=i(1223),m=i(9808);let o=(()=>{class p{constructor(){this.icon="bx-detail",this.textColor="info",this.text="No hay registro"}ngOnInit(){}}return p.\u0275fac=function(s){return new(s||p)},p.\u0275cmp=t.Xpm({type:p,selectors:[["app-text-alert"]],inputs:{icon:"icon",textColor:"textColor",text:"text"},decls:3,vars:3,consts:[[1,"d-flex","flex-column","justify-content-center","align-items-center","text-center",3,"ngClass"],[1,"bx",3,"ngClass"]],template:function(s,c){1&s&&(t.TgZ(0,"h1",0),t._UZ(1,"i",1),t._uU(2),t.qZA()),2&s&&(t.Q6J("ngClass","text-"+c.textColor),t.xp6(1),t.Q6J("ngClass",c.icon),t.xp6(1),t.hij(" ",c.text,"\n"))},directives:[m.mk],encapsulation:2}),p})()},2775:(b,d,i)=>{i.d(d,{n:()=>m});var t=i(1223);let m=(()=>{class o{constructor(){this.limit=new t.vpe}ngOnInit(){}changeLimit(a){const s=Number(a.target.value);this.limit.emit(Number(s))}}return o.\u0275fac=function(a){return new(a||o)},o.\u0275cmp=t.Xpm({type:o,selectors:[["app-dropdown-page-list"]],outputs:{limit:"limit"},decls:10,vars:0,consts:[[1,"d-flex","align-items-center","justify-content-between","gap-1"],[1,"form-select","radius-10",2,"width","auto",3,"change"],["value","5","selected",""],["valued","10"],["valued","15"]],template:function(a,s){1&a&&(t.TgZ(0,"div",0)(1,"span"),t._uU(2," Mostrar por p\xe1gina "),t.qZA(),t.TgZ(3,"select",1),t.NdJ("change",function(h){return s.changeLimit(h)}),t.TgZ(4,"option",2),t._uU(5,"5"),t.qZA(),t.TgZ(6,"option",3),t._uU(7,"10"),t.qZA(),t.TgZ(8,"option",4),t._uU(9,"15"),t.qZA()()())},encapsulation:2}),o})()},8716:(b,d,i)=>{i.d(d,{R:()=>m});var t=i(1223);let m=(()=>{class o{constructor(){}ngOnInit(){}}return o.\u0275fac=function(a){return new(a||o)},o.\u0275cmp=t.Xpm({type:o,selectors:[["app-loader"]],decls:1,vars:0,consts:[["id","loader"]],template:function(a,s){1&a&&t._UZ(0,"div",0)},styles:['#loader[_ngcontent-%COMP%]{display:inline-table;position:relative;left:50%;top:50%;width:150px;height:150px;margin:-75px 0 0 -75px;border-radius:50%;border:3px solid transparent;border-top-color:#0dcaf0;animation:spin 2s linear infinite}#loader[_ngcontent-%COMP%]:before{content:"";position:absolute;top:5px;left:5px;right:5px;bottom:5px;border-radius:50%;border:3px solid transparent;border-top-color:#00acff;animation:spin 3s linear infinite}#loader[_ngcontent-%COMP%]:after{content:"";position:absolute;top:15px;left:15px;right:15px;bottom:15px;border-radius:50%;border:3px solid transparent;border-top-color:#0d6efd;animation:spin 1.5s linear infinite}@keyframes spin{0%{transform:rotate(0)}to{transform:rotate(360deg)}}img.loader[_ngcontent-%COMP%]{display:block;position:relative;left:50%;top:50%;width:45px}']}),o})()},539:(b,d,i)=>{i.d(d,{V:()=>A});var t=i(1223),m=i(9944),o=i(9808),p=i(3599);function a(n,r){1&n&&t._UZ(0,"app-text-alert",22),2&n&&t.Q6J("icon","bx-briefcase")("textColor","danger")("text","No hay servicios programados")}function s(n,r){1&n&&(t.TgZ(0,"span",33),t._uU(1,"Pendiente"),t.qZA())}function c(n,r){1&n&&(t.TgZ(0,"span",34),t._uU(1,"Pago Pendiente"),t.qZA())}function h(n,r){1&n&&(t.TgZ(0,"span",35),t._uU(1,"Completado"),t.qZA())}function l(n,r){1&n&&(t.TgZ(0,"span",34),t._uU(1,"Cancelado"),t.qZA())}function _(n,r){if(1&n&&(t.TgZ(0,"tr",29)(1,"td"),t._uU(2),t.ALo(3,"date"),t.qZA(),t.TgZ(4,"td"),t._uU(5),t.qZA(),t.TgZ(6,"td",27),t.YNc(7,s,2,0,"span",30),t.YNc(8,c,2,0,"span",31),t.YNc(9,h,2,0,"span",32),t.YNc(10,l,2,0,"span",31),t.qZA()()),2&n){const e=r.$implicit;t.xp6(2),t.hij(" ",t.xi3(3,6,e.createdAt,"short")," "),t.xp6(3),t.hij(" ",e.service_name," "),t.xp6(2),t.Q6J("ngIf","PENDING"===e.status),t.xp6(1),t.Q6J("ngIf","PENDING_PAYMENT"===e.status),t.xp6(1),t.Q6J("ngIf","COMPLETED"===e.status),t.xp6(1),t.Q6J("ngIf","CANCELLED"===e.status)}}function u(n,r){if(1&n&&(t.TgZ(0,"div",25)(1,"table",26)(2,"thead")(3,"tr")(4,"th"),t._uU(5,"Fecha de expedici\xf3n"),t.qZA(),t.TgZ(6,"th"),t._uU(7,"Servicio"),t.qZA(),t.TgZ(8,"th",27),t._uU(9,"Estado"),t.qZA()()(),t.TgZ(10,"tbody"),t.YNc(11,_,11,9,"tr",28),t.qZA()()()),2&n){const e=t.oxw(3);t.xp6(11),t.Q6J("ngForOf",e.appointment.records)}}function x(n,r){if(1&n&&(t.TgZ(0,"div",23)(1,"h3"),t._uU(2," Servicios programados "),t.qZA(),t.YNc(3,u,12,1,"div",24),t.qZA()),2&n){const e=t.oxw(2);t.xp6(3),t.Q6J("ngIf",e.appointment.records)}}function g(n,r){if(1&n&&(t.TgZ(0,"div",3)(1,"div",4)(2,"h3",5),t._UZ(3,"i",6),t._uU(4),t.qZA(),t._UZ(5,"i",7),t.qZA(),t.TgZ(6,"div",8)(7,"h1",9),t._uU(8),t.qZA(),t.TgZ(9,"div",10)(10,"h5"),t._UZ(11,"i",11),t._uU(12),t.qZA(),t.TgZ(13,"h5"),t._UZ(14,"i",12),t._uU(15),t.qZA(),t.TgZ(16,"h5"),t._UZ(17,"i",13),t._uU(18),t.qZA(),t.TgZ(19,"h5"),t._UZ(20,"i",14),t._uU(21),t.qZA(),t.TgZ(22,"h5"),t._UZ(23,"i",15),t._uU(24),t.qZA()(),t._UZ(25,"hr"),t.YNc(26,a,1,3,"app-text-alert",16),t.YNc(27,x,4,1,"div",17),t._UZ(28,"hr"),t.TgZ(29,"h4",18),t._uU(30),t.qZA()(),t.TgZ(31,"div",19)(32,"button",20),t._UZ(33,"i",21),t._uU(34," Cerrar "),t.qZA()()()),2&n){const e=t.oxw();t.xp6(4),t.hij(" Cita: # ",e.appointment.id_appointment," "),t.xp6(3),t.Q6J("ngClass",e.getColorStatus),t.xp6(1),t.hij(" ",e.getStatus," "),t.xp6(4),t.hij("Paciente: ",null==e.appointment.patient?null:e.appointment.patient.id_patient,""),t.xp6(3),t.AsE("",null==e.appointment.patient?null:e.appointment.patient.name," ",null==e.appointment.patient?null:e.appointment.patient.last_name,""),t.xp6(3),t.Oqu(e.getAddress),t.xp6(3),t.Oqu(null==e.appointment.patient?null:e.appointment.patient.phone_number),t.xp6(3),t.Oqu(null==e.appointment.patient?null:e.appointment.patient.email),t.xp6(2),t.Q6J("ngIf",e.appointment.records&&0===e.appointment.records.length),t.xp6(1),t.Q6J("ngIf",e.appointment.records&&e.appointment.records.length>0),t.xp6(3),t.hij("Observaciones: ",e.appointment.description," ")}}let A=(()=>{class n{constructor(e){this.appointmentService=e}ngOnDestroy(){this.changeAppointment.unsubscribe()}ngOnInit(){this.changeAppointment=this.appointmentService.appointmentSelected.subscribe(e=>{this.appointment=e})}get getStatus(){const e=this.appointment.status;return"Cita "+("CANCELLED"===e?"cancelada":"PENDING"===e?"pendiente":"realizada")}get getColorStatus(){const e=this.appointment.status;return"text-"+("CANCELLED"===e?"danger":"PENDING"===e?"primary":"success")}get getAddress(){const{street:e,cp:f,city:v,country:T}=this.appointment.patient;return`${e}, CP. ${f} ${v}, ${T}`}}return n.\u0275fac=function(e){return new(e||n)(t.Y36(m.H))},n.\u0275cmp=t.Xpm({type:n,selectors:[["app-modal-appointment"]],decls:3,vars:1,consts:[["id","modalDetailAppointment","tabindex","-1","aria-hidden","true",1,"modal","fade",2,"display","none"],[1,"modal-dialog","modal-dialog-centered","modal-lg"],["class","modal-content radius-10",4,"ngIf"],[1,"modal-content","radius-10"],[1,"modal-header"],[1,"modal-title","d-flex","text-info"],[1,"bx","bx-detail","me-1","font-30"],["data-bs-dismiss","modal","aria-label","Close",1,"bx","bx-x-circle","text-danger","font-30","cursor"],[1,"modal-body"],[1,"text-center",3,"ngClass"],[1,"d-flex","flex-column","gap-2","flex-wrap","my-3"],[1,"bx","bx-hash","mx-2"],[1,"bx","bxs-user","mx-2"],[1,"bx","bxs-home","mx-2"],[1,"bx","bxs-phone","mx-2"],[1,"bx","bxs-envelope","mx-2"],[3,"icon","textColor","text",4,"ngIf"],["class","m-2",4,"ngIf"],[1,"text-muted","mt-3","mx-2"],[1,"modal-footer"],["type","button","data-bs-dismiss","modal",1,"btn","btn-danger","radius-10"],[1,"bx","bx-x"],[3,"icon","textColor","text"],[1,"m-2"],["class","table-responsive",4,"ngIf"],[1,"table-responsive"],[1,"table","align-middle","table-hover"],[1,"text-center"],["style","height: 55px;",4,"ngFor","ngForOf"],[2,"height","55px"],["class","badge rounded-pill text-primary bg-light-primary p-2 text-uppercase px-3",4,"ngIf"],["class","badge rounded-pill text-danger bg-light-danger p-2 text-uppercase px-3",4,"ngIf"],["class","badge rounded-pill text-success bg-light-success p-2 text-uppercase px-3",4,"ngIf"],[1,"badge","rounded-pill","text-primary","bg-light-primary","p-2","text-uppercase","px-3"],[1,"badge","rounded-pill","text-danger","bg-light-danger","p-2","text-uppercase","px-3"],[1,"badge","rounded-pill","text-success","bg-light-success","p-2","text-uppercase","px-3"]],template:function(e,f){1&e&&(t.TgZ(0,"div",0)(1,"div",1),t.YNc(2,g,35,12,"div",2),t.qZA()()),2&e&&(t.xp6(2),t.Q6J("ngIf",f.appointment))},directives:[o.O5,o.mk,p._,o.sg],pipes:[o.uU],encapsulation:2}),n})()},8115:(b,d,i)=>{i.d(d,{Q:()=>m});var t=i(1223);let m=(()=>{class o{constructor(){this.limit=0,this.total=0,this.changedOffset=new t.vpe,this.offset=0,this.pageActive=1,this.totalPages=0}ngOnChanges(a){this.limit=a.limit&&a.limit.currentValue||5,this.pageActive=1,this.getPages()}ngOnInit(){this.getPages()}getPages(){this.totalPages=this.getTotalPages}get getTotalPages(){return Math.ceil(this.total/this.limit)}changePage(a){this.pageActive+=a>0?1:-1,this.offset+=a,this.offset<0?(this.offset=0,this.pageActive=1):this.offset>=this.total&&(this.offset-=a,this.pageActive=this.getTotalPages),this.changedOffset.emit(this.offset)}}return o.\u0275fac=function(a){return new(a||o)},o.\u0275cmp=t.Xpm({type:o,selectors:[["app-pagination"]],inputs:{limit:"limit",total:"total"},outputs:{changedOffset:"changedOffset"},features:[t.TTD],decls:8,vars:4,consts:[[1,"d-flex","justify-content-between","align-items-center","gap-2"],["role","group","aria-label","Basic example",1,"btn-group","m-1"],["type","button",1,"btn","btn-outline-primary","radius-10",3,"disabled","click"]],template:function(a,s){1&a&&(t.TgZ(0,"div",0)(1,"span"),t._uU(2),t.qZA(),t.TgZ(3,"div",1)(4,"button",2),t.NdJ("click",function(){return s.changePage(-s.limit)}),t._uU(5," Anterior "),t.qZA(),t.TgZ(6,"button",2),t.NdJ("click",function(){return s.changePage(s.limit)}),t._uU(7," Siguiente "),t.qZA()()()),2&a&&(t.xp6(2),t.AsE(" Pagina ",s.pageActive," de ",s.totalPages," "),t.xp6(2),t.Q6J("disabled",1===s.pageActive),t.xp6(2),t.Q6J("disabled",s.pageActive===s.totalPages))},encapsulation:2}),o})()},7809:(b,d,i)=>{i.d(d,{Y:()=>A});var t=i(1223),m=i(5226),o=i.n(m),p=i(9944),a=i(9808),s=i(7905);function c(n,r){1&n&&(t.TgZ(0,"span",13),t._uU(1,"Pendiente"),t.qZA())}function h(n,r){1&n&&(t.TgZ(0,"span",14),t._uU(1,"Cancelada"),t.qZA())}function l(n,r){1&n&&(t.TgZ(0,"span",15),t._uU(1,"Realizada"),t.qZA())}function _(n,r){if(1&n){const e=t.EpF();t.TgZ(0,"a",16),t.NdJ("click",function(){t.CHM(e);const v=t.oxw().$implicit;return t.oxw(2).changeStatus(v.id_appointment,"DONE")}),t._UZ(1,"i",17),t.qZA()}}function u(n,r){if(1&n){const e=t.EpF();t.TgZ(0,"a",18),t.NdJ("click",function(){t.CHM(e);const v=t.oxw().$implicit;return t.oxw(2).changeStatus(v.id_appointment,"CANCELLED")}),t._UZ(1,"i",19),t.qZA()}}function x(n,r){if(1&n){const e=t.EpF();t.TgZ(0,"tr")(1,"td",3),t._uU(2),t.qZA(),t.TgZ(3,"td"),t._uU(4),t.ALo(5,"customDate"),t.qZA(),t.TgZ(6,"td"),t._uU(7),t.qZA(),t.TgZ(8,"td"),t._uU(9),t.qZA(),t.TgZ(10,"td",3),t.YNc(11,c,2,0,"span",5),t.YNc(12,h,2,0,"span",6),t.YNc(13,l,2,0,"span",7),t.qZA(),t.TgZ(14,"td")(15,"div",8),t.YNc(16,_,2,0,"a",9),t.YNc(17,u,2,0,"a",10),t.TgZ(18,"a",11),t.NdJ("click",function(){const T=t.CHM(e).$implicit;return t.oxw(2).showDetails(T)}),t._UZ(19,"i",12),t.qZA()()()()}if(2&n){const e=r.$implicit;t.xp6(2),t.hij("# ",e.id_appointment,""),t.xp6(2),t.Oqu(t.lcZ(5,10,e.date+" "+e.time)),t.xp6(3),t.AsE("",null==e.patient?null:e.patient.name," ",null==e.patient?null:e.patient.last_name," "),t.xp6(2),t.Oqu(null==e.patient?null:e.patient.phone_number),t.xp6(2),t.Q6J("ngIf","PENDING"===e.status),t.xp6(1),t.Q6J("ngIf","CANCELLED"===e.status),t.xp6(1),t.Q6J("ngIf","DONE"===e.status),t.xp6(3),t.Q6J("ngIf","PENDING"===e.status),t.xp6(1),t.Q6J("ngIf","PENDING"===e.status)}}function g(n,r){if(1&n&&(t.TgZ(0,"div",1)(1,"table",2)(2,"thead")(3,"tr")(4,"th",3),t._uU(5,"# Cita"),t.qZA(),t.TgZ(6,"th"),t._uU(7,"Fecha programada"),t.qZA(),t.TgZ(8,"th"),t._uU(9,"Paciente"),t.qZA(),t.TgZ(10,"th"),t._uU(11,"Tel\xe9fono"),t.qZA(),t.TgZ(12,"th",3),t._uU(13,"Estado"),t.qZA(),t.TgZ(14,"th",3),t._uU(15,"Acciones"),t.qZA()()(),t.TgZ(16,"tbody"),t.YNc(17,x,20,12,"tr",4),t.qZA()()()),2&n){const e=t.oxw();t.xp6(17),t.Q6J("ngForOf",e.appointments)}}let A=(()=>{class n{constructor(e){this.appointmentService=e,this.newStatus=new t.vpe}ngOnInit(){}changeStatus(e,f){const v={id_appointment:Number(e),status:f};"CANCELLED"===f?o().fire({title:"\xbfEst\xe1s seguro de cancelar esta cita?",icon:"question",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:"Si, cancelar!",cancelButtonText:"Cerrar"}).then(T=>{T.isConfirmed&&(o().fire("Cita cancelada correctamente","Avisa a tu paciente de este cambio","success"),this.newStatus.emit(v))}):this.newStatus.emit(v)}showDetails(e){this.appointmentService.changeAppointmentSelected(e)}}return n.\u0275fac=function(e){return new(e||n)(t.Y36(p.H))},n.\u0275cmp=t.Xpm({type:n,selectors:[["app-table-appointments"]],inputs:{appointments:"appointments"},outputs:{newStatus:"newStatus"},decls:1,vars:1,consts:[["class","table-responsive",4,"ngIf"],[1,"table-responsive"],[1,"table","align-middle","table-hover"],[1,"text-center"],[4,"ngFor","ngForOf"],["class","badge rounded-pill text-primary bg-light-primary p-2 text-uppercase px-3",4,"ngIf"],["class","badge rounded-pill text-danger bg-light-danger p-2 text-uppercase px-3",4,"ngIf"],["class","badge rounded-pill text-success bg-light-success p-2 text-uppercase px-3",4,"ngIf"],[1,"d-flex","justify-content-center","order-actions"],["class","cursor bg-light-success text-success",3,"click",4,"ngIf"],["class","ms-2 cursor bg-light-danger text-danger",3,"click",4,"ngIf"],["data-bs-toggle","modal","data-bs-target","#modalDetailAppointment",1,"ms-2","bg-light-primary","text-primary","cursor",3,"click"],[1,"bx","bx-id-card"],[1,"badge","rounded-pill","text-primary","bg-light-primary","p-2","text-uppercase","px-3"],[1,"badge","rounded-pill","text-danger","bg-light-danger","p-2","text-uppercase","px-3"],[1,"badge","rounded-pill","text-success","bg-light-success","p-2","text-uppercase","px-3"],[1,"cursor","bg-light-success","text-success",3,"click"],[1,"bx","bx-check"],[1,"ms-2","cursor","bg-light-danger","text-danger",3,"click"],[1,"bx","bx-block"]],template:function(e,f){1&e&&t.YNc(0,g,18,1,"div",0),2&e&&t.Q6J("ngIf",f.appointments)},directives:[a.O5,a.sg],pipes:[s.F],encapsulation:2}),n})()},7905:(b,d,i)=>{i.d(d,{F:()=>o});var t=i(9808),m=i(1223);let o=(()=>{class p{transform(s,...c){const h=s.split(" ")[0].split("-"),l=s.split(" ")[1];let _=new Date(h);_.setHours(l.split(":")[0]),_.setMinutes(l.split(":")[1]);const u=new t.uU("en-US");let x="dd/MM/yyyy - h:mm a";return"time"===c[0]&&(x=x.split("-")[1].trim()),u.transform(_,x)}}return p.\u0275fac=function(s){return new(s||p)},p.\u0275pipe=m.Yjl({name:"customDate",type:p,pure:!0}),p})()}}]);