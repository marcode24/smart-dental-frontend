"use strict";(self.webpackChunkfront_end=self.webpackChunkfront_end||[]).push([[884],{9073:(_,d,n)=>{n.d(d,{u:()=>t});var a=n(1223),u=n(9857),p=n(3476);let t=(()=>{class s{constructor(m,h){this.authService=m,this.router=h}canActivate(m,h){return"ADMIN"===this.authService.userActive.role||(this.router.navigateByUrl("/home"),!1)}}return s.\u0275fac=function(m){return new(m||s)(a.LFG(u.e),a.LFG(p.F0))},s.\u0275prov=a.Yz7({token:s,factory:s.\u0275fac,providedIn:"root"}),s})()},2884:(_,d,n)=>{n.r(d),n.d(d,{StatisticsRoutingModule:()=>F});var a=n(3476),u=n(9073),p=n(4128),t=n(1223),s=n(3400),o=n(9808),m=n(6041);const h=["chart"];function x(i,c){if(1&i&&t._UZ(0,"apx-chart",1),2&i){const e=t.oxw();t.Q6J("series",e.chartOptions.series)("chart",e.chartOptions.chart)("markers",e.chartOptions.markers)("plotOptions",e.chartOptions.plotOptions)("dataLabels",e.chartOptions.dataLabels)("stroke",e.chartOptions.stroke)("xaxis",e.chartOptions.xaxis)("fill",e.chartOptions.fill)("colors",e.chartOptions.colors)("tooltip",e.chartOptions.tooltip)}}let f=(()=>{class i{constructor(){this.statistics=[],this.readyToShow=!1}ngOnInit(){this.chartOptions={series:[{name:"Total Users",data:this.data}],chart:{type:"area",height:65,toolbar:{show:!1},zoom:{enabled:!1},dropShadow:{enabled:!0,top:3,left:14,blur:4,opacity:.12,color:"#17a00e"},sparkline:{enabled:!0}},markers:{size:0,colors:["#17a00e"],strokeColors:"#fff",strokeWidth:2,hover:{size:7}},plotOptions:{bar:{horizontal:!1,columnWidth:"45%"}},dataLabels:{enabled:!1},stroke:{show:!0,width:2.4,curve:"smooth"},colors:["#17a00e"],fill:{opacity:1},tooltip:{theme:"dark",fixed:{enabled:!1},x:{show:!1},y:{title:{formatter:function(e){return""}}},marker:{show:!1}}},this.readyToShow=!0}}return i.\u0275fac=function(e){return new(e||i)},i.\u0275cmp=t.Xpm({type:i,selectors:[["app-apex-chart"]],viewQuery:function(e,r){if(1&e&&t.Gf(h,5),2&e){let l;t.iGM(l=t.CRH())&&(r.chart=l.first)}},inputs:{statistics:"statistics",data:"data"},decls:1,vars:1,consts:[[3,"series","chart","markers","plotOptions","dataLabels","stroke","xaxis","fill","colors","tooltip",4,"ngIf"],[3,"series","chart","markers","plotOptions","dataLabels","stroke","xaxis","fill","colors","tooltip"]],template:function(e,r){1&e&&t.YNc(0,x,1,10,"apx-chart",0),2&e&&t.Q6J("ngIf",r.readyToShow)},directives:[o.O5,m.x],styles:[""]}),i})();function C(i,c){if(1&i&&t._UZ(0,"app-apex-chart",6),2&i){const e=t.oxw();t.Q6J("statistics",e.statistic.statistics)("data",e.totals)}}let v=(()=>{class i{constructor(){this.totals=[]}ngOnInit(){var e;null===(e=this.statistic.statistics)||void 0===e||e.forEach(r=>this.totals.push(Number(r.total_quantity)))}}return i.\u0275fac=function(e){return new(e||i)},i.\u0275cmp=t.Xpm({type:i,selectors:[["app-card-chart"]],inputs:{statistic:"statistic"},decls:9,vars:3,consts:[[1,"card","radius-10"],[1,"card-body"],[1,"d-flex","align-items-center","mb-3"],[1,"mb-0","text-muted"],[1,"mb-0"],[3,"statistics","data",4,"ngIf"],[3,"statistics","data"]],template:function(e,r){1&e&&(t.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div")(4,"h3",3),t._uU(5),t.qZA(),t.TgZ(6,"h4",4),t._uU(7),t.qZA()()(),t.YNc(8,C,1,2,"app-apex-chart",5),t.qZA()()),2&e&&(t.xp6(5),t.hij(" ",r.statistic.name," "),t.xp6(2),t.hij("",r.statistic.total_service," "),t.xp6(1),t.Q6J("ngIf",r.totals))},directives:[o.O5,f],encapsulation:2}),i})(),T=(()=>{class i{constructor(){this.type=new t.vpe,this.option=new t.vpe}ngOnInit(){}changeType(e){this.type.emit(e.target.value)}changeOption(e){this.option.emit(e.target.value)}}return i.\u0275fac=function(e){return new(e||i)},i.\u0275cmp=t.Xpm({type:i,selectors:[["app-dropdown-statistics"]],outputs:{type:"type",option:"option"},decls:11,vars:0,consts:[[1,"d-flex","align-items-center","justify-content-between","gap-1"],[1,"form-select","radius-10",2,"width","auto",3,"change"],["value","month","selected",""],["value","current","selected",""],["value","last"]],template:function(e,r){1&e&&(t.TgZ(0,"div",0)(1,"span"),t._uU(2," Filtrar por "),t.qZA(),t.TgZ(3,"select",1),t.NdJ("change",function(g){return r.changeType(g)}),t.TgZ(4,"option",2),t._uU(5,"Mes"),t.qZA()(),t.TgZ(6,"select",1),t.NdJ("change",function(g){return r.changeOption(g)}),t.TgZ(7,"option",3),t._uU(8,"Actual"),t.qZA(),t.TgZ(9,"option",4),t._uU(10,"Pasado"),t.qZA()()())},encapsulation:2}),i})();var y=n(2775),Z=n(7905);function A(i,c){if(1&i&&(t.TgZ(0,"tr",5)(1,"td"),t._uU(2),t.ALo(3,"date"),t.qZA(),t.TgZ(4,"td"),t._uU(5),t.qZA(),t.TgZ(6,"td"),t._uU(7),t.ALo(8,"customDate"),t.qZA(),t.TgZ(9,"td",3),t._uU(10),t.qZA(),t.TgZ(11,"td"),t._uU(12),t.ALo(13,"currency"),t.qZA(),t.TgZ(14,"td"),t._uU(15),t.ALo(16,"currency"),t.qZA()()),2&i){const e=c.$implicit;t.xp6(2),t.hij(" ",t.xi3(3,6,e.createdAt,"short")," "),t.xp6(3),t.hij(" ",e.service_name," "),t.xp6(2),t.hij(" ",t.lcZ(8,9,e.payment_date+" "+e.payment_time)," "),t.xp6(3),t.hij(" ",e.quantity," "),t.xp6(2),t.hij(" ",t.xi3(13,11,e.price,"$ ")," "),t.xp6(3),t.hij(" ",t.xi3(16,14,e.quantity*e.price,"$ ")," ")}}function P(i,c){if(1&i&&(t.TgZ(0,"div",1)(1,"table",2)(2,"thead")(3,"tr")(4,"th"),t._uU(5,"Fecha de expedici\xf3n"),t.qZA(),t.TgZ(6,"th"),t._uU(7,"Servicio"),t.qZA(),t.TgZ(8,"th"),t._uU(9,"Fecha de pago"),t.qZA(),t.TgZ(10,"th",3),t._uU(11,"Cantidad"),t.qZA(),t.TgZ(12,"th"),t._uU(13,"$ Precio"),t.qZA(),t.TgZ(14,"th"),t._uU(15,"$ Subtotal"),t.qZA()()(),t.TgZ(16,"tbody"),t.YNc(17,A,17,17,"tr",4),t.qZA()()()),2&i){const e=t.oxw();t.xp6(17),t.Q6J("ngForOf",e.records)}}let D=(()=>{class i{constructor(){}ngOnInit(){}}return i.\u0275fac=function(e){return new(e||i)},i.\u0275cmp=t.Xpm({type:i,selectors:[["app-table-records"]],inputs:{records:"records"},decls:1,vars:1,consts:[["class","table-responsive",4,"ngIf"],[1,"table-responsive"],[1,"table","align-middle","table-hover"],[1,"text-center"],["style","height: 50px;",4,"ngFor","ngForOf"],[2,"height","50px"]],template:function(e,r){1&e&&t.YNc(0,P,18,1,"div",0),2&e&&t.Q6J("ngIf",r.records)},directives:[o.O5,o.sg],pipes:[o.uU,Z.F,o.H9],encapsulation:2}),i})();var O=n(8115),b=n(8716);function w(i,c){if(1&i&&(t.TgZ(0,"div",15),t._UZ(1,"app-card-chart",16),t.qZA()),2&i){const e=c.$implicit;t.xp6(1),t.Q6J("statistic",e)}}function S(i,c){if(1&i&&(t.TgZ(0,"div",13),t.YNc(1,w,2,1,"div",14),t.qZA()),2&i){const e=t.oxw(2);t.xp6(1),t.Q6J("ngForOf",e.statistics)}}function U(i,c){if(1&i){const e=t.EpF();t.TgZ(0,"app-pagination",17),t.NdJ("changedOffset",function(l){return t.CHM(e),t.oxw(2).changePage(l)}),t.qZA()}if(2&i){const e=t.oxw(2);t.Q6J("limit",e.getLimitPagination)("total",e.totalRecords)}}function L(i,c){if(1&i){const e=t.EpF();t.TgZ(0,"div")(1,"h4",1),t._uU(2,"Servicios m\xe1s solicitados"),t.qZA(),t._UZ(3,"hr"),t.YNc(4,S,2,1,"div",2),t.TgZ(5,"div",3)(6,"div",4)(7,"div",5)(8,"h2",6),t._uU(9,"Ganancias"),t.qZA(),t.TgZ(10,"div",7)(11,"app-dropdown-statistics",8),t.NdJ("option",function(l){return t.CHM(e),t.oxw().changeOption(l)})("type",function(l){return t.CHM(e),t.oxw().changeType(l)}),t.qZA(),t.TgZ(12,"app-dropdown-page-list",9),t.NdJ("limit",function(l){return t.CHM(e),t.oxw().changeLimit(l)}),t.qZA()()(),t._UZ(13,"app-table-records",10),t.YNc(14,U,1,2,"app-pagination",11),t.TgZ(15,"h1",12),t._uU(16),t.ALo(17,"currency"),t.qZA()()()()}if(2&i){const e=t.oxw();t.xp6(4),t.Q6J("ngIf",e.statistics),t.xp6(9),t.Q6J("records",e.statisticsDate),t.xp6(1),t.Q6J("ngIf",e.totalRecords>0),t.xp6(2),t.hij(" Ganancia: ",t.xi3(17,4,e.earnings,"$")," ")}}function M(i,c){1&i&&t._UZ(0,"app-loader")}const E=[{path:"",canActivate:[u.u],component:(()=>{class i{constructor(e){this.recordService=e,this.totalRecords=0,this.earnings=0,this.isLoadingPage=!0,this.statisticsDateParams={limit:5,offset:0,type:"month",option:"current"}}ngOnInit(){(0,p.D)({statistics:this.recordService.getStatistics(),statisticsDate:this.recordService.getStatisticsByDate(this.statisticsDateParams)}).subscribe(({statistics:e,statisticsDate:r})=>{this.statistics=e,this.setDataStatisticsDate(r),this.isLoadingPage=!1})}setDataStatisticsDate(e){const{earnings:r,records:l,total:g}=e;this.statisticsDate=l,this.totalRecords=g,this.earnings=r[0].total}getStatisticsByDate(){this.recordService.getStatisticsByDate(this.statisticsDateParams).subscribe(e=>{this.setDataStatisticsDate(e)})}get getLimitPagination(){return this.statisticsDateParams.limit}changePage(e){this.statisticsDateParams.offset=e,this.getStatisticsByDate()}changeLimit(e){this.statisticsDateParams.limit=e,this.statisticsDateParams.offset=0,this.getStatisticsByDate()}changeType(e){this.statisticsDateParams.offset=0,this.statisticsDateParams.type=e,this.getStatisticsByDate()}changeOption(e){this.statisticsDateParams.offset=0,this.statisticsDateParams.option=e,this.getStatisticsByDate()}}return i.\u0275fac=function(e){return new(e||i)(t.Y36(s.B))},i.\u0275cmp=t.Xpm({type:i,selectors:[["app-statistics"]],decls:2,vars:2,consts:[[4,"ngIf"],[1,"mb-0","text-uppercase"],["class","row",4,"ngIf"],[1,"card","radius-10"],[1,"card-body"],[1,"d-flex","align-items-center","justify-content-between","flex-wrap","w-100","mb-3"],[1,"mb-0"],[1,"d-flex","align-items-center","justify-content-between","flex-wrap","gap-2"],[3,"option","type"],[3,"limit"],[3,"records"],[3,"limit","total","changedOffset",4,"ngIf"],[1,"d-flex","justify-content-end","align-items-center","mt-3"],[1,"row"],["class","col-xl-4 col-md-4",4,"ngFor","ngForOf"],[1,"col-xl-4","col-md-4"],[3,"statistic"],[3,"limit","total","changedOffset"]],template:function(e,r){1&e&&(t.YNc(0,L,18,7,"div",0),t.YNc(1,M,1,0,"app-loader",0)),2&e&&(t.Q6J("ngIf",!r.isLoadingPage),t.xp6(1),t.Q6J("ngIf",r.isLoadingPage))},directives:[o.O5,o.sg,v,T,y.n,D,O.Q,b.R],pipes:[o.H9],encapsulation:2}),i})()}];let F=(()=>{class i{}return i.\u0275fac=function(e){return new(e||i)},i.\u0275mod=t.oAB({type:i}),i.\u0275inj=t.cJS({imports:[[a.Bz.forChild(E)],a.Bz]}),i})()},2775:(_,d,n)=>{n.d(d,{n:()=>u});var a=n(1223);let u=(()=>{class p{constructor(){this.limit=new a.vpe}ngOnInit(){}changeLimit(s){const o=Number(s.target.value);this.limit.emit(Number(o))}}return p.\u0275fac=function(s){return new(s||p)},p.\u0275cmp=a.Xpm({type:p,selectors:[["app-dropdown-page-list"]],outputs:{limit:"limit"},decls:10,vars:0,consts:[[1,"d-flex","align-items-center","justify-content-between","gap-1"],[1,"form-select","radius-10",2,"width","auto",3,"change"],["value","5","selected",""],["valued","10"],["valued","15"]],template:function(s,o){1&s&&(a.TgZ(0,"div",0)(1,"span"),a._uU(2," Mostrar por p\xe1gina "),a.qZA(),a.TgZ(3,"select",1),a.NdJ("change",function(h){return o.changeLimit(h)}),a.TgZ(4,"option",2),a._uU(5,"5"),a.qZA(),a.TgZ(6,"option",3),a._uU(7,"10"),a.qZA(),a.TgZ(8,"option",4),a._uU(9,"15"),a.qZA()()())},encapsulation:2}),p})()},8716:(_,d,n)=>{n.d(d,{R:()=>u});var a=n(1223);let u=(()=>{class p{constructor(){}ngOnInit(){}}return p.\u0275fac=function(s){return new(s||p)},p.\u0275cmp=a.Xpm({type:p,selectors:[["app-loader"]],decls:1,vars:0,consts:[["id","loader"]],template:function(s,o){1&s&&a._UZ(0,"div",0)},styles:['#loader[_ngcontent-%COMP%]{display:inline-table;position:relative;left:50%;top:50%;width:150px;height:150px;margin:-75px 0 0 -75px;border-radius:50%;border:3px solid transparent;border-top-color:#0dcaf0;animation:spin 2s linear infinite}#loader[_ngcontent-%COMP%]:before{content:"";position:absolute;top:5px;left:5px;right:5px;bottom:5px;border-radius:50%;border:3px solid transparent;border-top-color:#00acff;animation:spin 3s linear infinite}#loader[_ngcontent-%COMP%]:after{content:"";position:absolute;top:15px;left:15px;right:15px;bottom:15px;border-radius:50%;border:3px solid transparent;border-top-color:#0d6efd;animation:spin 1.5s linear infinite}@keyframes spin{0%{transform:rotate(0)}to{transform:rotate(360deg)}}img.loader[_ngcontent-%COMP%]{display:block;position:relative;left:50%;top:50%;width:45px}']}),p})()},8115:(_,d,n)=>{n.d(d,{Q:()=>u});var a=n(1223);let u=(()=>{class p{constructor(){this.limit=0,this.total=0,this.changedOffset=new a.vpe,this.offset=0,this.pageActive=1,this.totalPages=0}ngOnChanges(s){this.limit=s.limit&&s.limit.currentValue||5,this.pageActive=1,this.getPages()}ngOnInit(){this.getPages()}getPages(){this.totalPages=this.getTotalPages}get getTotalPages(){return Math.ceil(this.total/this.limit)}changePage(s){this.pageActive+=s>0?1:-1,this.offset+=s,this.offset<0?(this.offset=0,this.pageActive=1):this.offset>=this.total&&(this.offset-=s,this.pageActive=this.getTotalPages),this.changedOffset.emit(this.offset)}}return p.\u0275fac=function(s){return new(s||p)},p.\u0275cmp=a.Xpm({type:p,selectors:[["app-pagination"]],inputs:{limit:"limit",total:"total"},outputs:{changedOffset:"changedOffset"},features:[a.TTD],decls:8,vars:4,consts:[[1,"d-flex","justify-content-between","align-items-center","gap-2"],["role","group","aria-label","Basic example",1,"btn-group","m-1"],["type","button",1,"btn","btn-outline-primary","radius-10",3,"disabled","click"]],template:function(s,o){1&s&&(a.TgZ(0,"div",0)(1,"span"),a._uU(2),a.qZA(),a.TgZ(3,"div",1)(4,"button",2),a.NdJ("click",function(){return o.changePage(-o.limit)}),a._uU(5," Anterior "),a.qZA(),a.TgZ(6,"button",2),a.NdJ("click",function(){return o.changePage(o.limit)}),a._uU(7," Siguiente "),a.qZA()()()),2&s&&(a.xp6(2),a.AsE(" Pagina ",o.pageActive," de ",o.totalPages," "),a.xp6(2),a.Q6J("disabled",1===o.pageActive),a.xp6(2),a.Q6J("disabled",o.pageActive===o.totalPages))},encapsulation:2}),p})()},7905:(_,d,n)=>{n.d(d,{F:()=>p});var a=n(9808),u=n(1223);let p=(()=>{class t{transform(o,...m){const h=o.split(" ")[0].split("-"),x=o.split(" ")[1];let f=new Date(h);f.setHours(x.split(":")[0]),f.setMinutes(x.split(":")[1]);const C=new a.uU("en-US");let v="dd/MM/yyyy - h:mm a";return"time"===m[0]&&(v=v.split("-")[1].trim()),C.transform(f,v)}}return t.\u0275fac=function(o){return new(o||t)},t.\u0275pipe=u.Yjl({name:"customDate",type:t,pure:!0}),t})()}}]);