"use strict";(self.webpackChunkfront_end=self.webpackChunkfront_end||[]).push([[559],{9073:(Z,g,a)=>{a.d(g,{u:()=>v});var e=a(1223),r=a(9857),m=a(3476);let v=(()=>{class d{constructor(_,c){this.authService=_,this.router=c}canActivate(_,c){return"ADMIN"===this.authService.userActive.role||(this.router.navigateByUrl("/home"),!1)}}return d.\u0275fac=function(_){return new(_||d)(e.LFG(r.e),e.LFG(m.F0))},d.\u0275prov=e.Yz7({token:d,factory:d.\u0275fac,providedIn:"root"}),d})()},2749:(Z,g,a)=>{a.d(g,{k:()=>e});let e=(()=>{class r{}return r.ONLY_TEXT=/^[a-zA-Z\\xf1\xc0-\xfa ]{2,20}$/,r.PHONE_NUMBER=/^[0-9]{10,12}$/,r.CP=/^[0-9]{5}$/,r.STREET=/^[a-zA-Z0-9\\xf1\xc0-\xfa ]{2,50}$/,r.USER_NAME=/^[a-zA-Z0-9]{8,24}$/,r.PASSWORD=/^[a-zA-Z0-9]{8,}$/,r.PRICE=/^[0-9]{0,}(\.[0-9]{0,2})?$/,r.TEXT_SERVICE=/^[a-zA-Z\\xf1\xc0-\xfa ]{2,120}$/,r})()},6456:(Z,g,a)=>{a.d(g,{Z:()=>e});class e{static validate(m){return v=>{var d,x,_;if(null===(d=v.get(m))||void 0===d?void 0:d.value){const c=null===(x=v.get(m))||void 0===x?void 0:x.value.split("-");return new Date(c[0],c[1]-1,c[2]).setHours(0,0,0,0)>=(new Date).setHours(0,0,0,0)?(null===(_=v.get(m))||void 0===_||_.setErrors({isMax:!0}),{isMax:!0}):null}return null}}}},3195:(Z,g,a)=>{a.d(g,{h:()=>c});var e=a(1223),r=a(9857),m=a(9808);function v(s,f){1&s&&(e.TgZ(0,"span",12),e._uU(1,"Dentista"),e.qZA())}function d(s,f){1&s&&(e.TgZ(0,"span",13),e._uU(1,"Administrador"),e.qZA())}function x(s,f){if(1&s){const u=e.EpF();e.TgZ(0,"div",14)(1,"div",15)(2,"div",16)(3,"button",17),e.NdJ("click",function(){return e.CHM(u),e.oxw().changeStatus(!1)}),e._UZ(4,"i",18),e._uU(5,"Suspender "),e.qZA()()()()}}function _(s,f){if(1&s){const u=e.EpF();e.TgZ(0,"div",4)(1,"h3",19),e._uU(2," Cuenta suspendida "),e.qZA(),e.TgZ(3,"div",20)(4,"div",15)(5,"div",16)(6,"button",21),e.NdJ("click",function(){return e.CHM(u),e.oxw().changeStatus(!0)}),e._UZ(7,"i",22),e._uU(8,"Habilitar "),e.qZA()()()()()}}let c=(()=>{class s{constructor(u){this.authService=u,this.detail=!0,this.newStatus=new e.vpe,this.isSettings=!1}ngOnInit(){this.isSettings=this.userActive.id_user===this.authService.userActive.id_user}get getAddress(){const{street:u,cp:l,city:I,country:T}=this.userActive;return`${u}, CP. ${l} ${I}, ${T}`}changeStatus(u){this.newStatus.emit(u)}}return s.\u0275fac=function(u){return new(u||s)(e.Y36(r.e))},s.\u0275cmp=e.Xpm({type:s,selectors:[["app-card-detail"]],inputs:{userActive:"userActive",detail:"detail"},outputs:{newStatus:"newStatus"},decls:20,vars:12,consts:[[1,"card","border-top","border-0","border-4","radius-10",3,"ngClass"],[1,"card-body"],[1,"d-flex","flex-column","align-items-center","text-center","my-3"],["alt","Admin","width","150",1,"rounded-circle","p-1",3,"src","ngClass"],[1,"mt-3"],["class","badge rounded-pill text-primary bg-light-primary p-2 text-uppercase px-3",4,"ngIf"],["class","badge rounded-pill text-danger bg-light-danger p-2 text-uppercase px-3",4,"ngIf"],[1,"bx","bxs-user","font-15","mx-1"],[1,"bx","bxs-home","font-15","mx-1"],[1,"bx","bxs-phone","font-15","mx-1"],["class","row mt-3",4,"ngIf"],["class","mt-3",4,"ngIf"],[1,"badge","rounded-pill","text-primary","bg-light-primary","p-2","text-uppercase","px-3"],[1,"badge","rounded-pill","text-danger","bg-light-danger","p-2","text-uppercase","px-3"],[1,"row","mt-3"],[1,"col-12"],[1,"d-grid"],[1,"btn","btn-danger","radius-10",3,"click"],[1,"bx","bx-block"],[1,"text-danger","text-center","my-3"],[1,"row"],[1,"btn","btn-primary","radius-10",3,"click"],[1,"bx","bx-check-circle"]],template:function(u,l){1&u&&(e.TgZ(0,"div",0)(1,"div",1)(2,"div",2),e._UZ(3,"img",3),e.TgZ(4,"div",4)(5,"h4"),e._uU(6),e.qZA(),e.YNc(7,v,2,0,"span",5),e.YNc(8,d,2,0,"span",6),e.qZA()(),e.TgZ(9,"h6"),e._UZ(10,"i",7),e._uU(11),e.qZA(),e.TgZ(12,"h6"),e._UZ(13,"i",8),e._uU(14),e.qZA(),e.TgZ(15,"h6"),e._UZ(16,"i",9),e._uU(17),e.qZA(),e.YNc(18,x,6,0,"div",10),e.YNc(19,_,9,0,"div",11),e.qZA()()),2&u&&(e.Q6J("ngClass","ADMIN"===l.userActive.role?"border-danger":"border-primary"),e.xp6(3),e.Q6J("src",l.userActive.image,e.LSH)("ngClass","ADMIN"===l.userActive.role?"bg-danger":"bg-primary"),e.xp6(3),e.AsE("",l.userActive.name," ",l.userActive.last_name," "),e.xp6(1),e.Q6J("ngIf","DENTIST"===l.userActive.role),e.xp6(1),e.Q6J("ngIf","ADMIN"===l.userActive.role),e.xp6(3),e.Oqu(l.userActive.username),e.xp6(3),e.Oqu(l.getAddress),e.xp6(3),e.Oqu(l.userActive.phone_number),e.xp6(1),e.Q6J("ngIf",l.detail&&l.userActive.status&&!l.isSettings),e.xp6(1),e.Q6J("ngIf",l.detail&&!l.userActive.status))},directives:[m.mk,m.O5],encapsulation:2}),s})()},8953:(Z,g,a)=>{a.d(g,{d:()=>ee});var e=a(1223),r=a(3075),m=a(2749),v=a(6456),d=a(3476),x=a(9808);function _(t,o){1&t&&(e.TgZ(0,"span",39),e._uU(1,"campo requerido"),e.qZA())}function c(t,o){1&t&&(e.TgZ(0,"span",39),e._uU(1,"ingrese un nombre correcto"),e.qZA())}function s(t,o){if(1&t&&(e.TgZ(0,"div",37),e.YNc(1,_,2,0,"span",38),e.YNc(2,c,2,0,"span",38),e.qZA()),2&t){const n=e.oxw();e.xp6(1),e.Q6J("ngIf",n.validateField("name","required")),e.xp6(1),e.Q6J("ngIf",n.validateField("name","pattern"))}}function f(t,o){1&t&&(e.TgZ(0,"span",39),e._uU(1,"campo requerido"),e.qZA())}function u(t,o){1&t&&(e.TgZ(0,"span",39),e._uU(1,"ingrese un apellido correcto"),e.qZA())}function l(t,o){if(1&t&&(e.TgZ(0,"div",37),e.YNc(1,f,2,0,"span",38),e.YNc(2,u,2,0,"span",38),e.qZA()),2&t){const n=e.oxw();e.xp6(1),e.Q6J("ngIf",n.validateField("last_name","required")),e.xp6(1),e.Q6J("ngIf",n.validateField("last_name","pattern"))}}function I(t,o){1&t&&(e.TgZ(0,"span",39),e._uU(1,"campo requerido"),e.qZA())}function T(t,o){1&t&&(e.TgZ(0,"span",39),e._uU(1,"fecha incorrecta"),e.qZA())}function E(t,o){if(1&t&&(e.TgZ(0,"div",37),e.YNc(1,I,2,0,"span",38),e.YNc(2,T,2,0,"span",38),e.qZA()),2&t){const n=e.oxw();e.xp6(1),e.Q6J("ngIf",n.validateField("date_birth","required")),e.xp6(1),e.Q6J("ngIf",n.validateField("date_birth","isMax"))}}function y(t,o){1&t&&(e.TgZ(0,"span",39),e._uU(1,"campo requerido"),e.qZA())}function J(t,o){if(1&t&&(e.TgZ(0,"div",37),e.YNc(1,y,2,0,"span",38),e.qZA()),2&t){const n=e.oxw();e.xp6(1),e.Q6J("ngIf",n.validateField("gender","required"))}}function D(t,o){1&t&&(e.TgZ(0,"span",39),e._uU(1,"campo requerido"),e.qZA())}function G(t,o){1&t&&(e.TgZ(0,"span",39),e._uU(1,"Debe ser un email correcto"),e.qZA())}function Y(t,o){if(1&t&&(e.TgZ(0,"div",37),e.YNc(1,D,2,0,"span",38),e.YNc(2,G,2,0,"span",38),e.qZA()),2&t){const n=e.oxw();e.xp6(1),e.Q6J("ngIf",n.validateField("email","required")),e.xp6(1),e.Q6J("ngIf",n.validateField("email","email"))}}function O(t,o){1&t&&(e.TgZ(0,"span",39),e._uU(1,"campo requerido"),e.qZA())}function Q(t,o){1&t&&(e.TgZ(0,"span",39),e._uU(1,"ingrese un tel\xe9fono correcto"),e.qZA())}function M(t,o){if(1&t&&(e.TgZ(0,"div",37),e.YNc(1,O,2,0,"span",38),e.YNc(2,Q,2,0,"span",38),e.qZA()),2&t){const n=e.oxw();e.xp6(1),e.Q6J("ngIf",n.validateField("phone_number","required")),e.xp6(1),e.Q6J("ngIf",n.validateField("phone_number","pattern"))}}function P(t,o){1&t&&(e.TgZ(0,"span",39),e._uU(1,"campo requerido"),e.qZA())}function w(t,o){1&t&&(e.TgZ(0,"span",39),e._uU(1,"ingrese un valor correcto"),e.qZA())}function S(t,o){if(1&t&&(e.TgZ(0,"div",37),e.YNc(1,P,2,0,"span",38),e.YNc(2,w,2,0,"span",38),e.qZA()),2&t){const n=e.oxw();e.xp6(1),e.Q6J("ngIf",n.validateField("street","required")),e.xp6(1),e.Q6J("ngIf",n.validateField("street","pattern"))}}function k(t,o){1&t&&(e.TgZ(0,"span",39),e._uU(1,"campo requerido"),e.qZA())}function L(t,o){1&t&&(e.TgZ(0,"span",39),e._uU(1,"ingrese un valor correcto"),e.qZA())}function R(t,o){if(1&t&&(e.TgZ(0,"div",37),e.YNc(1,k,2,0,"span",38),e.YNc(2,L,2,0,"span",38),e.qZA()),2&t){const n=e.oxw();e.xp6(1),e.Q6J("ngIf",n.validateField("cp","required")),e.xp6(1),e.Q6J("ngIf",n.validateField("cp","pattern"))}}function B(t,o){1&t&&(e.TgZ(0,"span",39),e._uU(1,"campo requerido"),e.qZA())}function V(t,o){1&t&&(e.TgZ(0,"span",39),e._uU(1,"ingrese un valor correcto"),e.qZA())}function K(t,o){if(1&t&&(e.TgZ(0,"div",37),e.YNc(1,B,2,0,"span",38),e.YNc(2,V,2,0,"span",38),e.qZA()),2&t){const n=e.oxw();e.xp6(1),e.Q6J("ngIf",n.validateField("city","required")),e.xp6(1),e.Q6J("ngIf",n.validateField("city","pattern"))}}function W(t,o){1&t&&(e.TgZ(0,"span",39),e._uU(1,"campo requerido"),e.qZA())}function $(t,o){1&t&&(e.TgZ(0,"span",39),e._uU(1,"ingrese un valor correcto"),e.qZA())}function H(t,o){if(1&t&&(e.TgZ(0,"div",37),e.YNc(1,W,2,0,"span",38),e.YNc(2,$,2,0,"span",38),e.qZA()),2&t){const n=e.oxw();e.xp6(1),e.Q6J("ngIf",n.validateField("country","required")),e.xp6(1),e.Q6J("ngIf",n.validateField("country","pattern"))}}function j(t,o){if(1&t&&(e.TgZ(0,"button",42),e._UZ(1,"i",43),e._uU(2,"Guardar "),e.qZA()),2&t){const n=e.oxw(2);e.Q6J("disabled",n.generalInfoForm.invalid)}}function X(t,o){if(1&t&&(e.TgZ(0,"div",40),e.YNc(1,j,3,1,"button",41),e.qZA()),2&t){const n=e.oxw();e.xp6(1),e.Q6J("ngIf",n.userActive&&n.userActive.status)}}function z(t,o){if(1&t){const n=e.EpF();e.TgZ(0,"div",44)(1,"button",45),e.NdJ("click",function(){return e.CHM(n),e.oxw().cancelCreateUser()}),e._UZ(2,"i",46),e._uU(3," Cancelar "),e.qZA(),e.TgZ(4,"button",42),e._UZ(5,"i",47),e._uU(6," Siguiente "),e.qZA()()}if(2&t){const n=e.oxw();e.xp6(4),e.Q6J("disabled",n.generalInfoForm.invalid)}}let ee=(()=>{class t{constructor(n,i){this.fb=n,this.router=i,this.userInfo=new e.vpe,this.isNew=!0,this.regexExpressions=m.k,this.generalInfoForm=this.fb.group({name:["",[r.kI.required,r.kI.pattern(this.regexExpressions.ONLY_TEXT)]],last_name:["",[r.kI.required,r.kI.pattern(this.regexExpressions.ONLY_TEXT)]],date_birth:["",r.kI.required],gender:["",[r.kI.required]],email:["",[r.kI.required,r.kI.email,r.kI.minLength(10)]],phone_number:["",[r.kI.required,r.kI.pattern(this.regexExpressions.PHONE_NUMBER)]],street:["",[r.kI.required,r.kI.pattern(this.regexExpressions.STREET)]],cp:["",[r.kI.required,r.kI.pattern(this.regexExpressions.CP)]],city:["",[r.kI.required,r.kI.pattern(this.regexExpressions.ONLY_TEXT)]],country:["",[r.kI.required,r.kI.pattern(this.regexExpressions.ONLY_TEXT)]]},{validators:[v.Z.validate("date_birth")]})}ngOnInit(){this.isNew?this.setInfoUserTemp():this.setInfoUserActive()}setValuesToForm(n){var i,p,A,b,h,F,C,q,U,N;null===(i=this.generalInfoForm.get("name"))||void 0===i||i.setValue(n.name),null===(p=this.generalInfoForm.get("last_name"))||void 0===p||p.setValue(n.last_name),null===(A=this.generalInfoForm.get("date_birth"))||void 0===A||A.setValue(this.isNew?n.date_birth:new Date(n.date_birth).toISOString().split("T")[0]),null===(b=this.generalInfoForm.get("gender"))||void 0===b||b.setValue(n.gender),null===(h=this.generalInfoForm.get("email"))||void 0===h||h.setValue(n.email),null===(F=this.generalInfoForm.get("phone_number"))||void 0===F||F.setValue(n.phone_number),null===(C=this.generalInfoForm.get("street"))||void 0===C||C.setValue(n.street),null===(q=this.generalInfoForm.get("cp"))||void 0===q||q.setValue(n.cp),null===(U=this.generalInfoForm.get("city"))||void 0===U||U.setValue(n.city),null===(N=this.generalInfoForm.get("country"))||void 0===N||N.setValue(n.country)}setInfoUserActive(){this.setValuesToForm(this.userActive)}setInfoUserTemp(){var n;const i=localStorage.getItem("userTemp"),p=JSON.parse(i);p?this.setValuesToForm(p):(this.generalInfoForm.reset(),null===(n=this.generalInfoForm.get("gender"))||void 0===n||n.setValue(""))}saveUserInfo(){var n,i;this.generalInfoForm.valid&&(this.generalInfo=Object.assign(Object.assign({},this.generalInfoForm.value),{cp:Number(null===(n=this.generalInfoForm.get("cp"))||void 0===n?void 0:n.value),phone_number:Number(null===(i=this.generalInfoForm.get("phone_number"))||void 0===i?void 0:i.value)}),localStorage.setItem("userTemp",JSON.stringify(this.generalInfo)),this.userInfo.emit(this.generalInfo))}validateForm(n){const i=this.generalInfoForm.get(n);return(null==i?void 0:i.errors)&&((null==i?void 0:i.dirty)||(null==i?void 0:i.touched))}validateField(n,i){var p;return null===(p=this.generalInfoForm.get(n))||void 0===p?void 0:p.hasError(i)}cancelCreateUser(){localStorage.removeItem("userTemp"),this.router.navigate(["/users"])}}return t.\u0275fac=function(n){return new(n||t)(e.Y36(r.qu),e.Y36(d.F0))},t.\u0275cmp=e.Xpm({type:t,selectors:[["app-form-general-info"]],inputs:{userActive:"userActive",isNew:"isNew"},outputs:{userInfo:"userInfo"},decls:73,vars:13,consts:[[1,"card","radius","border-top","border-0","border-4","border-primary","radius-10"],[1,"card-body","p-5"],[1,"card-title","d-flex","align-items-center","gap-2"],[1,"bx","bx-user","me-1","font-30","text-primary"],[1,"mb-0","text-primary"],[1,"my-2"],[1,"row","g-3","my-1",3,"formGroup","submit"],[1,"col-6","my-2"],["for","inputName",1,"form-label"],["formControlName","name","type","text","id","inputName",1,"form-control","radius-10"],["class","message-error",4,"ngIf"],["for","inputLastName",1,"form-label"],["formControlName","last_name","type","text","id","inputLastName",1,"form-control","radius-10"],["for","inputDateBirth",1,"form-label"],["formControlName","date_birth","type","date","id","inputDateBirth",1,"form-control","radius-10"],[1,"form-label"],["formControlName","gender",1,"form-select","radius-10"],["value","","selected",""],["value","male"],["value","female"],["value","other"],["for","inputEmail",1,"form-label"],["formControlName","email","type","email","id","inputEmail",1,"form-control","radius-10"],["for","inputPhoneNumber",1,"form-label"],["formControlName","phone_number","type","tel","id","inputPhoneNumber",1,"form-control","radius-10"],[1,"card-title","d-flex","align-items-center","m-0","mt-3","gap-2"],[1,"bx","bx-home","me-1","font-30","text-primary"],["for","inputStreet",1,"form-label"],["formControlName","street","type","text","id","inputStreet",1,"form-control","radius-10"],["for","inputCP",1,"form-label"],["formControlName","cp","type","text","id","inputCP",1,"form-control","radius-10"],["for","inputCity",1,"form-label"],["formControlName","city","type","text","id","inputCity",1,"form-control","radius-10"],["for","inputCountry",1,"form-label"],["formControlName","country","type","text","id","inputCountry",1,"form-control","radius-10"],["class","d-flex justify-content-end align-center",4,"ngIf"],["class","d-flex justify-content-end align-center gap-2",4,"ngIf"],[1,"message-error"],["class","text-danger",4,"ngIf"],[1,"text-danger"],[1,"d-flex","justify-content-end","align-center"],["type","submit","class","btn btn-primary radius-10 ",3,"disabled",4,"ngIf"],["type","submit",1,"btn","btn-primary","radius-10",3,"disabled"],[1,"bx","bx-save"],[1,"d-flex","justify-content-end","align-center","gap-2"],["type","button",1,"btn","btn-danger","radius-10",3,"click"],[1,"bx","bx-block"],[1,"bx","bx-right-arrow-alt"]],template:function(n,i){1&n&&(e.TgZ(0,"div",0)(1,"div",1)(2,"div",2),e._UZ(3,"i",3),e.TgZ(4,"h3",4),e._uU(5,"Informaci\xf3n General"),e.qZA()(),e._UZ(6,"hr",5),e.TgZ(7,"form",6),e.NdJ("submit",function(){return i.saveUserInfo()}),e.TgZ(8,"div",7)(9,"label",8),e._uU(10,"Nombre"),e.qZA(),e._UZ(11,"input",9),e.YNc(12,s,3,2,"div",10),e.qZA(),e.TgZ(13,"div",7)(14,"label",11),e._uU(15,"Apellido"),e.qZA(),e._UZ(16,"input",12),e.YNc(17,l,3,2,"div",10),e.qZA(),e.TgZ(18,"div",7)(19,"label",13),e._uU(20,"Fecha de Nacimiento"),e.qZA(),e._UZ(21,"input",14),e.YNc(22,E,3,2,"div",10),e.qZA(),e.TgZ(23,"div",7)(24,"label",15),e._uU(25,"Sexo"),e.qZA(),e.TgZ(26,"select",16)(27,"option",17),e._uU(28,"Seleccione una opci\xf3n"),e.qZA(),e.TgZ(29,"option",18),e._uU(30,"Hombre"),e.qZA(),e.TgZ(31,"option",19),e._uU(32,"Mujer"),e.qZA(),e.TgZ(33,"option",20),e._uU(34,"Otro"),e.qZA()(),e.YNc(35,J,2,1,"div",10),e.qZA(),e.TgZ(36,"div",7)(37,"label",21),e._uU(38,"Email"),e.qZA(),e._UZ(39,"input",22),e.YNc(40,Y,3,2,"div",10),e.qZA(),e.TgZ(41,"div",7)(42,"label",23),e._uU(43,"Tel\xe9fono"),e.qZA(),e._UZ(44,"input",24),e.YNc(45,M,3,2,"div",10),e.qZA(),e.TgZ(46,"div",25),e._UZ(47,"i",26),e.TgZ(48,"h4",4),e._uU(49,"Direcci\xf3n"),e.qZA()(),e._UZ(50,"hr",5),e.TgZ(51,"div",7)(52,"label",27),e._uU(53,"Calle y N\xfamero"),e.qZA(),e._UZ(54,"input",28),e.YNc(55,S,3,2,"div",10),e.qZA(),e.TgZ(56,"div",7)(57,"label",29),e._uU(58,"CP"),e.qZA(),e._UZ(59,"input",30),e.YNc(60,R,3,2,"div",10),e.qZA(),e.TgZ(61,"div",7)(62,"label",31),e._uU(63,"Ciudad"),e.qZA(),e._UZ(64,"input",32),e.YNc(65,K,3,2,"div",10),e.qZA(),e.TgZ(66,"div",7)(67,"label",33),e._uU(68,"Pa\xeds"),e.qZA(),e._UZ(69,"input",34),e.YNc(70,H,3,2,"div",10),e.qZA(),e.YNc(71,X,2,1,"div",35),e.YNc(72,z,7,1,"div",36),e.qZA()()()),2&n&&(e.xp6(7),e.Q6J("formGroup",i.generalInfoForm),e.xp6(5),e.Q6J("ngIf",i.validateForm("name")),e.xp6(5),e.Q6J("ngIf",i.validateForm("last_name")),e.xp6(5),e.Q6J("ngIf",i.validateForm("date_birth")),e.xp6(13),e.Q6J("ngIf",i.validateForm("gender")),e.xp6(5),e.Q6J("ngIf",i.validateForm("email")),e.xp6(5),e.Q6J("ngIf",i.validateForm("phone_number")),e.xp6(10),e.Q6J("ngIf",i.validateForm("street")),e.xp6(5),e.Q6J("ngIf",i.validateForm("cp")),e.xp6(5),e.Q6J("ngIf",i.validateForm("city")),e.xp6(5),e.Q6J("ngIf",i.validateForm("country")),e.xp6(1),e.Q6J("ngIf",!i.isNew),e.xp6(1),e.Q6J("ngIf",i.isNew))},directives:[r._Y,r.JL,r.sg,r.Fj,r.JJ,r.u,x.O5,r.EJ,r.YN,r.Kr],encapsulation:2}),t})()}}]);