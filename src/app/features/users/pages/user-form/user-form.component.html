<div class="row">
  <div class="col-xl-6 mx-auto">
    <div *ngIf="!showAccountForm" class="card border-top border-0 border-4 border-primary">
      <div class="card-body p-5">
        <div class="card-title d-flex align-items-center gap-2">
          <div>
            <i class="bx bx-user me-1 font-30 text-primary"></i>
          </div>
          <h3 class="mb-0 text-primary">Información General</h3>
        </div>
        <hr class=my-2>
        <form [formGroup]="registerForm" (submit)="loadAccountForm()" class="row g-3 my-1">
          <div class="col-6 my-2  ">
            <label for="inputName" class="form-label">Nombre</label>
            <input formControlName="name" type="text" class="form-control" id="inputName">
            <div *ngIf="validateForm('name')" class="message-error">
              <span *ngIf="validateField('name', 'required')" class="text-danger">campo requerido</span>
              <span *ngIf="validateField('name', 'maxlength')" class="text-danger">máximo 20 caracteres</span>
              <span *ngIf="validateField('name', 'minlength')" class="text-danger">mínimo 2 caracteres</span>
            </div>
          </div>
          <div class="col-6 my-2  ">
            <label for="inputLastName" class="form-label">Apellido</label>
            <input formControlName="last_name" type="text" class="form-control" id="inputLastName">
            <div *ngIf="validateForm('last_name')" class="message-error">
              <span *ngIf="validateField('last_name', 'required')" class="text-danger">campo requerido</span>
              <span *ngIf="validateField('last_name', 'maxlength')" class="text-danger">máximo 20
                caracteres</span>
              <span *ngIf="validateField('last_name', 'minlength')" class="text-danger">mínimo 2
                caracteres</span>
            </div>
          </div>
          <div class="col-6 my-2  ">
            <label for="inputDateBirth" class="form-label">Fecha de Nacimiento</label>
            <input formControlName="date_birth" type="date" class="form-control" id="inputDateBirth">
            <div *ngIf="validateForm('date_birth')" class="message-error">
              <span *ngIf="validateField('date_birth', 'required')" class="text-danger">campo requerido</span>
            </div>
          </div>
          <div class="col-6 my-2  ">
            <label class="form-label">Sexo</label>
            <select class="form-select" formControlName="gender">
              <option value="" selected>Seleccione una opción</option>
              <option value="male">Hombre</option>
              <option value="female">Mujer</option>
              <option value="other">Otro</option>
            </select>
            <div *ngIf="validateForm('gender')" class="message-error">
              <span *ngIf="validateField('gender', 'required')" class="text-danger">campo requerido</span>
            </div>
          </div>
          <div class="col-6 my-2  ">
            <label for="inputEmail" class="form-label">Email</label>
            <input formControlName="email" type="email" class="form-control" id="inputEmail">
            <div *ngIf="validateForm('email')" class="message-error">
              <span *ngIf="validateField('email', 'required')" class="text-danger">campo requerido</span>
              <span *ngIf="validateField('email', 'email')" class="text-danger">Debe ser un email
                correcto</span>
            </div>
          </div>
          <div class="col-6 my-2  ">
            <label for="inputPhoneNumber" class="form-label">Teléfono</label>
            <input formControlName="phone_number" type="tel" class="form-control" id="inputPhoneNumber">
            <div *ngIf="validateForm('phone_number')" class="message-error">
              <span *ngIf="validateField('phone_number', 'required')" class="text-danger">campo
                requerido</span>
              <span *ngIf="validateField('phone_number', 'maxlength')" class="text-danger">máximo 12
                números</span>
            </div>
          </div>
          <div class="card-title d-flex align-items-center m-0 mt-3 gap-2">
            <div>
              <i class="bx bx-home me-1 font-30 text-primary"></i>
            </div>
            <h4 class="mb-0 text-primary">Dirección</h4>
          </div>
          <hr class=my-2>
          <div class="col-6 my-2  ">
            <label for="inputStreet" class="form-label">Calle y Número</label>
            <input formControlName="street" type="text" class="form-control" id="inputStreet">
            <div *ngIf="validateForm('street')" class="message-error">
              <span *ngIf="validateField('street', 'required')" class="text-danger">campo requerido</span>
              <span *ngIf="validateField('street', 'maxlength')" class="text-danger">máximo 50
                caracteres</span>
              <span *ngIf="validateField('street', 'minlength')" class="text-danger">mínimo 2
                caracteres</span>
            </div>
          </div>
          <div class="col-6 my-2  ">
            <label for="inputCP" class="form-label">CP</label>
            <input formControlName="cp" type="text" class="form-control" id="inputCP">
            <div *ngIf="validateForm('cp')" class="message-error">
              <span *ngIf="validateField('cp', 'required')" class="text-danger">campo requerido</span>
              <span *ngIf="validateField('cp', 'maxlength')" class="text-danger">máximo 5
                caracteres</span>
              <span *ngIf="validateField('cp', 'minlength')" class="text-danger">mínimo 5
                caracteres</span>
            </div>
          </div>
          <div class="col-6 my-2  ">
            <label for="inputCity" class="form-label">Ciudad</label>
            <input formControlName="city" type="text" class="form-control" id="inputCity">
            <div *ngIf="validateForm('city')" class="message-error">
              <span *ngIf="validateField('city', 'required')" class="text-danger">campo requerido</span>
              <span *ngIf="validateField('city', 'maxlength')" class="text-danger">máximo 50
                caracteres</span>
              <span *ngIf="validateField('city', 'minlength')" class="text-danger">mínimo 2
                caracteres</span>
            </div>
          </div>
          <div class="col-6 my-2  ">
            <label for="inputCountry" class="form-label">País</label>
            <input formControlName="country" type="text" class="form-control" id="inputCountry">
            <div *ngIf="validateForm('country')" class="message-error">
              <span *ngIf="validateField('country', 'required')" class="text-danger">campo requerido</span>
              <span *ngIf="validateField('country', 'maxlength')" class="text-danger">máximo 50
                caracteres</span>
              <span *ngIf="validateField('country', 'minlength')" class="text-danger">mínimo 2
                caracteres</span>
            </div>
          </div>
          <div class="d-flex justify-content-end align-center">
            <button type="submit" [disabled]="registerForm.invalid" class="btn btn-primary radius-30">
              <i class="bx bx-right-arrow-alt"></i>Siguiente
            </button>
          </div>
        </form>
      </div>
    </div>
    <div *ngIf="showAccountForm" class="card border-top border-0 border-4 border-primary">
      <div class="card-body p-5">
        <div class="card-title d-flex align-items-center gap-2">
          <div>
            <i class="bx bx-cog me-1 font-30 text-primary"></i>
          </div>
          <h3 class="mb-0 text-primary">Configuración de Cuenta</h3>
        </div>
        <hr class=my-2>
        <form [formGroup]="accountForm" (submit)="register()" class="row g-3 my-1">
          <div class="col-12 my-2 d-flex justify-content-between align-center">

            <div class="d-flex flex-column" style="width: 50%;">
              <div class="col-12 my-2  ">
                <label class="form-label">Cargo</label>
                <select class="form-select" formControlName="role" (change)="changeBgColorImage($event)">
                  <option value="DENTIST">Dentista</option>
                  <option value="ADMIN">Administrador</option>
                </select>
                <div *ngIf="validateAccountForm('role')" class="message-error">
                  <span *ngIf="validateAccountField('role', 'required')" class="text-danger">campo requerido</span>
                </div>
              </div>
              <div class="col-12 my-2 ">
                <label for="inputUsername" class="form-label">Usuario</label>
                <input formControlName="username" type="text" class="form-control" id="inputUsername">
                <div *ngIf="validateAccountForm('username')" class="message-error">
                  <span *ngIf="validateAccountField('username', 'required')" class="text-danger">campo requerido</span>
                  <span *ngIf="validateAccountField('username', 'maxlength')" class="text-danger">máximo 24
                    caracteres</span>
                  <span *ngIf="validateAccountField('username', 'minlength')" class="text-danger">mínimo 5
                    caracteres</span>
                </div>
              </div>
              <div class="col-12 my-2  ">
                <label for="inputPassword" class="form-label">Password</label>
                <input formControlName="password" type="password" class="form-control" id="inputPassword">
                <div *ngIf="validateAccountForm('password')" class="message-error">
                  <span *ngIf="validateAccountField('password', 'required')" class="text-danger">campo requerido</span>
                  <span *ngIf="validateAccountField('password', 'minlength')" class="text-danger">mínimo 5
                    caracteres</span>
                </div>
              </div>
              <div class="col-12 my-2  ">
                <label for="inputConfirmPassword" class="form-label">Confirmar
                  Password</label>
                <input formControlName="password2" type="password" class="form-control" id="inputConfirmPassword">
                <div *ngIf="validateAccountForm('password2')" class="message-error">
                  <span *ngIf="validateAccountField('password2', 'matching')" class="text-danger">Password debe ser
                    igual</span>
                </div>
              </div>
            </div>
            <div class="d-flex justify-content-center align-items-center" style="width: 50%;">
              <img [src]="imageUser" alt="Admin" class="rounded-circle p-1" [ngClass]="'bg-'+bgColorImageUser"
                style="width: 80%;">
            </div>
          </div>

          <div class="d-flex justify-content-end align-items-center gap-2">
            <button (click)="showAccountForm = false; bgColorImageUser = 'primary'" type="button"
              class="btn btn-danger radius-30">
              <i class="bx bx-left-arrow-alt"></i>Regresar
            </button>
            <button type="submit" [disabled]="accountForm.invalid || registerForm.invalid"
              class="btn btn-primary radius-30">
              <i class="bx bx-save"></i>Guardar
            </button>
          </div>
        </form>
      </div>
    </div>
  </div>
</div>