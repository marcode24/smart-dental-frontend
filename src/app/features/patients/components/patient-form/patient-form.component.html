<div class="card border-top border-0 border-4 border-info radius-10">
  <div class="card-body p-5">
    <div class="card-title d-flex align-items-center gap-2">
      <div>
        <i class="bx bxs-user me-1 font-30 text-info"></i>
      </div>
      <h3 class="mb-0 text-info">Información General</h3>
    </div>
    <hr class=my-2>
    <form [formGroup]="patientForm" (submit)="savePatient()" class="row g-3 my-1">
      <div class="col-6 my-2">
        <label for="inputName" class="form-label">Nombre</label>
        <input formControlName="name" type="text" class="form-control radius-10" id="inputName">
        <div *ngIf="validateForm('name')" class="message-error">
          <span *ngIf="validateField('name', 'required')" class="text-danger">campo requerido</span>
          <span *ngIf="validateField('name', 'pattern')" class="text-danger">ingrese un valor correcto</span>
        </div>
      </div>
      <div class="col-6 my-2">
        <label for="inputLastName" class="form-label">Apellido</label>
        <input formControlName="last_name" type="text" class="form-control radius-10" id="inputLastName">
        <div *ngIf="validateForm('last_name')" class="message-error">
          <span *ngIf="validateField('last_name', 'required')" class="text-danger">campo requerido</span>
          <span *ngIf="validateField('last_name', 'pattern')" class="text-danger">ingrese un valor correcto</span>
        </div>
      </div>
      <div class="col-6 my-2">
        <label for="inputDateBirth" class="form-label">Fecha de Nacimiento</label>
        <input formControlName="date_birth" type="date" class="form-control radius-10" id="inputDateBirth">
        <div *ngIf="validateForm('date_birth')" class="message-error">
          <span *ngIf="validateField('date_birth', 'required')" class="text-danger">campo requerido</span>
          <span *ngIf="validateField('date_birth', 'isMax')" class="text-danger">ingrese una fecha correcta</span>
        </div>
      </div>
      <div class="col-6 my-2">
        <label class="form-label">Sexo</label>
        <select class="form-select radius-10" formControlName="gender">
          <option value="" selected>Seleccione una opción</option>
          <option value="male">Hombre</option>
          <option value="female">Mujer</option>
          <option value="other">Otro</option>
        </select>
        <div *ngIf="validateForm('gender')" class="message-error">
          <span *ngIf="validateField('gender', 'required')" class="text-danger">campo requerido</span>
        </div>
      </div>
      <div class="col-6 my-2">
        <label for="inputEmail" class="form-label">Email</label>
        <input formControlName="email" type="email" class="form-control radius-10" id="inputEmail">
        <div *ngIf="validateForm('email')" class="message-error">
          <span *ngIf="validateField('email', 'required')" class="text-danger">campo requerido</span>
          <span *ngIf="validateField('email', 'email')" class="text-danger">Debe ser un email
            correcto</span>
        </div>
      </div>
      <div class="col-6 my-2">
        <label for="inputPhoneNumber" class="form-label">Teléfono</label>
        <input formControlName="phone_number" type="tel" class="form-control radius-10" id="inputPhoneNumber">
        <div *ngIf="validateForm('phone_number')" class="message-error">
          <span *ngIf="validateField('phone_number', 'required')" class="text-danger">campo
            requerido</span>
          <span *ngIf="validateField('phone_number', 'pattern')" class="text-danger">ingrese un valor correcto</span>
        </div>
      </div>
      <div class="card-title d-flex align-items-center m-0 mt-3 gap-2">
        <div>
          <i class="bx bx-home me-1 font-30 text-info"></i>
        </div>
        <h4 class="mb-0 text-info">Dirección</h4>
      </div>
      <hr class=my-2>
      <div class="col-6 my-2">
        <label for="inputStreet" class="form-label">Calle y Número</label>
        <input formControlName="street" type="text" class="form-control radius-10" id="inputStreet">
        <div *ngIf="validateForm('street')" class="message-error">
          <span *ngIf="validateField('street', 'required')" class="text-danger">campo requerido</span>
          <span *ngIf="validateField('street', 'pattern')" class="text-danger">ingrese un valor correcto</span>
        </div>
      </div>
      <div class="col-6 my-2">
        <label for="inputCP" class="form-label">CP</label>
        <input formControlName="cp" type="text" class="form-control radius-10" id="inputCP">
        <div *ngIf="validateForm('cp')" class="message-error">
          <span *ngIf="validateField('cp', 'required')" class="text-danger">campo requerido</span>
          <span *ngIf="validateField('cp', 'pattern')" class="text-danger">ingrese un valor correcto</span>
        </div>
      </div>
      <div class="col-6 my-2">
        <label for="inputCity" class="form-label">Ciudad</label>
        <input formControlName="city" type="text" class="form-control radius-10" id="inputCity">
        <div *ngIf="validateForm('city')" class="message-error">
          <span *ngIf="validateField('city', 'required')" class="text-danger">campo requerido</span>
          <span *ngIf="validateField('city', 'pattern')" class="text-danger">ingrese un valor correcto</span>
        </div>
      </div>
      <div class="col-6 my-2">
        <label for="inputCountry" class="form-label">País</label>
        <input formControlName="country" type="text" class="form-control radius-10" id="inputCountry">
        <div *ngIf="validateForm('country')" class="message-error">
          <span *ngIf="validateField('country', 'required')" class="text-danger">campo requerido</span>
          <span *ngIf="validateField('country', 'pattern')" class="text-danger">ingrese un valor correcto</span>
        </div>
      </div>
      <div class="card-title d-flex align-items-center m-0 mt-3 gap-2">
        <div>
          <i class="bx bx-user me-1 font-30 text-info"></i>
        </div>
        <h4 class="mb-0 text-info">Persona responsable</h4>
      </div>
      <hr class=my-2>
      <div class="col-6 my-2">
        <label for="inputFamiliarName" class="form-label">Nombre</label>
        <input formControlName="f_name" type="text" class="form-control radius-10" id="inputFamiliarName">
        <div *ngIf="validateForm('f_name')" class="message-error">
          <span *ngIf="validateField('f_name', 'required')" class="text-danger">campo requerido</span>
          <span *ngIf="validateField('f_name', 'pattern')" class="text-danger">ingrese un valor correcto</span>
        </div>
      </div>
      <div class="col-6 my-2">
        <label for="inputFamiliarLastName" class="form-label">Apellido</label>
        <input formControlName="f_last_name" type="text" class="form-control radius-10" id="inputFamiliarLastName">
        <div *ngIf="validateForm('f_last_name')" class="message-error">
          <span *ngIf="validateField('f_last_name', 'required')" class="text-danger">campo requerido</span>
          <span *ngIf="validateField('f_last_name', 'pattern')" class="text-danger">ingrese un valor correcto</span>
        </div>
      </div>
      <div class="col-6 my-2">
        <label class="form-label">Sexo</label>
        <select class="form-select radius-10" formControlName="f_gender">
          <option value="" selected>Seleccione una opción</option>
          <option value="male">Hombre</option>
          <option value="female">Mujer</option>
          <option value="other">Otro</option>
        </select>
        <div *ngIf="validateForm('f_gender')" class="message-error">
          <span *ngIf="validateField('f_gender', 'required')" class="text-danger">campo requerido</span>
        </div>
      </div>
      <div class="col-6 my-2">
        <label class="form-label">Parentesco</label>
        <select class="form-select radius-10" formControlName="relationship">
          <option value="" selected>Seleccione una opción</option>
          <option value="wife">Esposa</option>
          <option value="husband">Esposo</option>
          <option value="mother">Madre</option>
          <option value="father">Padre</option>
          <option value="brother">Hermano</option>
          <option value="sister">Hermana</option>
          <option value="grandpa">Abuelo</option>
          <option value="grandma">Abuela</option>
          <option value="uncle">Tío</option>
          <option value="aunt">Tía</option>
          <option value="other">Otro</option>
        </select>
        <div *ngIf="validateForm('relationship')" class="message-error">
          <span *ngIf="validateField('relationship', 'required')" class="text-danger">campo requerido</span>
        </div>
      </div>
      <div class="col-6 my-2">
        <label for="inputFamiliarEmail" class="form-label">Email</label>
        <input formControlName="f_email" type="email" class="form-control radius-10" id="inputFamiliarEmail">
        <div *ngIf="validateForm('f_email')" class="message-error">
          <span *ngIf="validateField('f_email', 'required')" class="text-danger">campo requerido</span>
          <span *ngIf="validateField('f_email', 'email')" class="text-danger">Debe ser un email
            correcto</span>
        </div>
      </div>
      <div class="col-6 my-2">
        <label for="inputFamiliarPhoneNumber" class="form-label">Teléfono</label>
        <input formControlName="f_phone_number" type="tel" class="form-control radius-10" id="inputFamiliarPhoneNumber">
        <div *ngIf="validateForm('f_phone_number')" class="message-error">
          <span *ngIf="validateField('f_phone_number', 'required')" class="text-danger">campo requerido</span>
          <span *ngIf="validateField('f_phone_number', 'pattern')" class="text-danger">ingrese un valor correcto</span>
        </div>
      </div>
      <div class="d-flex justify-content-end align-center gap-2">
        <button type="button" routerLink="/patients" class="btn btn-danger radius-10">
          <i class="bx bx-block"></i> Cancelar
        </button>
        <button type="submit" [disabled]="patientForm.invalid" *ngIf="!isNew && patientActive && patientActive.status"
          class="btn btn-primary radius-10 ">
          <i class="bx bx-save"></i>Guardar
        </button>
        <button type="submit" [disabled]="patientForm.invalid" *ngIf="isNew" class="btn btn-primary radius-10 ">
          <i class="bx bx-save"></i>Guardar
        </button>
      </div>
    </form>
  </div>
</div>